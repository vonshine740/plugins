<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

	<!-- 识别电话号码 -->
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="x-rim-auto-match" content="none">
    <!-- Optimized mobile viewport -->

    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	<title></title>

	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		ul{
			margin: 0;
			padding: 0;
			list-style: none;
		}
		li{
			margin: 10rem 0;

			padding: 0;
			height: 1em;
			line-height: 1em;

			font-size: 44rem;
			border-top: 1px solid #000;
			border-bottom: 1px solid #000;
		}
		#box{
			width: 44rem;
			height: 44rem;
			border: 1px solid #f00;
		}
		header{
			height: 45rem;
			/*height: 140px;*/
			background-color: #0078ff;
		}
		.wrapper{
			padding: 10rem;
		}
		*[class*='rem']{
			font-size: 20rem;
			font-weight: normal;
			margin: 10rem 0;
		}

		*[class*='px']{
			font-size: 60px;
			font-weight: normal;
			background-color: #dcdcdc;
			margin: 10rem 0;
		}
	
		*[class*='remBox']{
			height: 250rem;
			width: 250rem;
			background-color: #dcdcdc;
			border-radius: 10px;
			padding: 5rem;
		}

		*[class*='pxBox']{
			height: 250px;
			width: 250px;
			background-color: #bbb;
			border-radius: 10px;
			padding: 15px;
		}
	</style>
</head>
<body>
	<header>
		Lorem ipsum dolor sit amet, consectetur adipisicing elit. Blanditiis quas dicta animi vero distinctio fugit iste illum, nulla vitae saepe tempora, modi nisi facere, consequatur magni, possimus placeat. Sit, quod.
	</header>
	<div class="wrapper">
		<h2 class="size-rem">智能机器人美国电动遥控玩具蓝牙(By size-rem)</h2>
		<h2 class="size-px">智能机器人美国电动遥控玩具蓝牙(By size-px)</h2>
		<div class="remBox">(By size-rem)</div>
		<div class="pxBox">(By size-px)</div>
		<ul>
			<li>
				x
			</li>
			<li>
				X
			</li>
			<li>
				A
			</li>
			<li id="box"></li>
		</ul>
	</div>

	<script type="text/javascript">


		function mobileTransfer(options){
			var dpr, rem, scale;
			var docEl = document.documentElement;
			var fontEl = document.createElement('style');
			var metaEl = document.querySelector('meta[name="viewport"]');

			dpr = window.devicePixelRatio || 1;
			rem = docEl.clientWidth * dpr / parseFloat(options.standard) ;
			alert(dpr);
			alert(rem);
			scale = 1 / dpr;

			// 设置viewport，进行缩放，达到高清效果
			metaEl.setAttribute('content', 'width=' + dpr * docEl.clientWidth + ',initial-scale=' + scale + ',maximum-scale=' + scale + ', minimum-scale=' + scale + ',user-scalable=no');

			// 设置data-dpr属性，留作的css hack之用
			docEl.setAttribute('data-dpr', dpr);

			// 动态写入样式
			docEl.firstElementChild.appendChild(fontEl);
			fontEl.innerHTML = 'html{font-size:' + rem + 'px!important;}';

			// 给js调用的，某一dpr下rem和px之间的转换函数
			window.rem2px = function(v) {
				v = parseFloat(v);
				return v * rem;
			};
			window.px2rem = function(v) {
			    v = parseFloat(v);
			    return v / rem;
			};
			window.dpr = dpr;
			window.rem = rem;
		}

		mobileTransfer({
			'standard': 375
		});
	</script>
</body>
</html>
